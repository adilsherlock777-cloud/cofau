{"dependencies":[{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":59,"index":59}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/SafeAreaView","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"S6Dcm4vKatES0CiC0O7zdRDDseY=","exportNames":["*"],"imports":1}},{"name":"../context/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":105},"end":{"line":3,"column":63,"index":168}}],"key":"wtq8Fkr/TgrbpLuMtxn0+1CYCwc=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":169},"end":{"line":4,"column":34,"index":203}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/_layout.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return RootLayout;\n    }\n  });\n  var _expoRouter = require(_dependencyMap[0], \"expo-router\");\n  var _reactNativeWebDistExportsSafeAreaView = require(_dependencyMap[1], \"react-native-web/dist/exports/SafeAreaView\");\n  var SafeAreaView = _interopDefault(_reactNativeWebDistExportsSafeAreaView);\n  var _contextAuthContext = require(_dependencyMap[2], \"../context/AuthContext\");\n  var _react = require(_dependencyMap[3], \"react\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  function RootLayoutNav() {\n    const {\n      isAuthenticated,\n      loading,\n      user,\n      token\n    } = (0, _contextAuthContext.useAuth)();\n    const segments = (0, _expoRouter.useSegments)();\n    const router = (0, _expoRouter.useRouter)();\n    (0, _react.useEffect)(() => {\n      console.log('üîÑ _layout: Auth state changed');\n      console.log('   - loading:', loading);\n      console.log('   - isAuthenticated:', isAuthenticated);\n      console.log('   - token:', token ? 'Present' : 'None');\n      console.log('   - user:', user?.email || 'None');\n      console.log('   - segments:', segments);\n      if (loading) {\n        console.log('‚è≥ _layout: Still loading, skipping navigation');\n        return;\n      }\n      const inAuthGroup = segments[0] === 'auth';\n      console.log('   - inAuthGroup:', inAuthGroup);\n\n      // Use setTimeout to ensure navigation happens after state updates complete\n      setTimeout(() => {\n        if (!isAuthenticated && !inAuthGroup) {\n          console.log('üîê _layout: Not authenticated, redirecting to login');\n          router.replace('/auth/login');\n        } else if (isAuthenticated && inAuthGroup) {\n          console.log('‚úÖ _layout: Authenticated in auth group, redirecting to feed');\n          router.replace('/feed');\n        } else {\n          console.log('‚úÖ _layout: No redirect needed, current route is correct');\n        }\n      }, 100);\n    }, [isAuthenticated, loading, segments, user]);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(SafeAreaView.default, {\n      style: {\n        flex: 1\n      },\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Slot, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }, this);\n  }\n  function RootLayout() {\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_contextAuthContext.AuthProvider, {\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(RootLayoutNav, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }, this);\n  }\n});","lineCount":89,"map":[[13,2,48,15,"Object"],[13,8,48,15],[13,9,48,15,"defineProperty"],[13,23,48,15],[13,24,48,15,"exports"],[13,31,48,15],[14,4,48,15,"enumerable"],[14,14,48,15],[15,4,48,15,"get"],[15,7,48,15],[15,18,48,15,"get"],[15,19,48,15],[16,6,48,15],[16,13,48,15,"RootLayout"],[16,23,48,15],[17,4,48,15],[18,2,48,15],[19,2,1,0],[19,6,1,0,"_expoRouter"],[19,17,1,0],[19,20,1,0,"require"],[19,27,1,0],[19,28,1,0,"_dependencyMap"],[19,42,1,0],[20,2,1,59],[20,6,1,59,"_reactNativeWebDistExportsSafeAreaView"],[20,44,1,59],[20,47,1,59,"require"],[20,54,1,59],[20,55,1,59,"_dependencyMap"],[20,69,1,59],[21,2,1,59],[21,6,1,59,"SafeAreaView"],[21,18,1,59],[21,21,1,59,"_interopDefault"],[21,36,1,59],[21,37,1,59,"_reactNativeWebDistExportsSafeAreaView"],[21,75,1,59],[22,2,3,0],[22,6,3,0,"_contextAuthContext"],[22,25,3,0],[22,28,3,0,"require"],[22,35,3,0],[22,36,3,0,"_dependencyMap"],[22,50,3,0],[23,2,4,0],[23,6,4,0,"_react"],[23,12,4,0],[23,15,4,0,"require"],[23,22,4,0],[23,23,4,0,"_dependencyMap"],[23,37,4,0],[24,2,4,34],[24,6,4,34,"_reactJsxDevRuntime"],[24,25,4,34],[24,28,4,34,"require"],[24,35,4,34],[24,36,4,34,"_dependencyMap"],[24,50,4,34],[25,2,6,0],[25,11,6,9,"RootLayoutNav"],[25,24,6,22,"RootLayoutNav"],[25,25,6,22],[25,27,6,25],[26,4,7,2],[26,10,7,8],[27,6,7,10,"isAuthenticated"],[27,21,7,25],[28,6,7,27,"loading"],[28,13,7,34],[29,6,7,36,"user"],[29,10,7,40],[30,6,7,42,"token"],[31,4,7,48],[31,5,7,49],[31,8,7,52],[31,12,7,52,"useAuth"],[31,31,7,59],[31,32,7,59,"useAuth"],[31,39,7,59],[31,41,7,60],[31,42,7,61],[32,4,8,2],[32,10,8,8,"segments"],[32,18,8,16],[32,21,8,19],[32,25,8,19,"useSegments"],[32,36,8,30],[32,37,8,30,"useSegments"],[32,48,8,30],[32,50,8,31],[32,51,8,32],[33,4,9,2],[33,10,9,8,"router"],[33,16,9,14],[33,19,9,17],[33,23,9,17,"useRouter"],[33,34,9,26],[33,35,9,26,"useRouter"],[33,44,9,26],[33,46,9,27],[33,47,9,28],[34,4,11,2],[34,8,11,2,"useEffect"],[34,14,11,11],[34,15,11,11,"useEffect"],[34,24,11,11],[34,26,11,12],[34,32,11,18],[35,6,12,4,"console"],[35,13,12,11],[35,14,12,12,"log"],[35,17,12,15],[35,18,12,16],[35,50,12,48],[35,51,12,49],[36,6,13,4,"console"],[36,13,13,11],[36,14,13,12,"log"],[36,17,13,15],[36,18,13,16],[36,33,13,31],[36,35,13,33,"loading"],[36,42,13,40],[36,43,13,41],[37,6,14,4,"console"],[37,13,14,11],[37,14,14,12,"log"],[37,17,14,15],[37,18,14,16],[37,41,14,39],[37,43,14,41,"isAuthenticated"],[37,58,14,56],[37,59,14,57],[38,6,15,4,"console"],[38,13,15,11],[38,14,15,12,"log"],[38,17,15,15],[38,18,15,16],[38,31,15,29],[38,33,15,31,"token"],[38,38,15,36],[38,41,15,39],[38,50,15,48],[38,53,15,51],[38,59,15,57],[38,60,15,58],[39,6,16,4,"console"],[39,13,16,11],[39,14,16,12,"log"],[39,17,16,15],[39,18,16,16],[39,30,16,28],[39,32,16,30,"user"],[39,36,16,34],[39,38,16,36,"email"],[39,43,16,41],[39,47,16,45],[39,53,16,51],[39,54,16,52],[40,6,17,4,"console"],[40,13,17,11],[40,14,17,12,"log"],[40,17,17,15],[40,18,17,16],[40,34,17,32],[40,36,17,34,"segments"],[40,44,17,42],[40,45,17,43],[41,6,19,4],[41,10,19,8,"loading"],[41,17,19,15],[41,19,19,17],[42,8,20,6,"console"],[42,15,20,13],[42,16,20,14,"log"],[42,19,20,17],[42,20,20,18],[42,67,20,65],[42,68,20,66],[43,8,21,6],[44,6,22,4],[45,6,24,4],[45,12,24,10,"inAuthGroup"],[45,23,24,21],[45,26,24,24,"segments"],[45,34,24,32],[45,35,24,33],[45,36,24,34],[45,37,24,35],[45,42,24,40],[45,48,24,46],[46,6,25,4,"console"],[46,13,25,11],[46,14,25,12,"log"],[46,17,25,15],[46,18,25,16],[46,37,25,35],[46,39,25,37,"inAuthGroup"],[46,50,25,48],[46,51,25,49],[48,6,27,4],[49,6,28,4,"setTimeout"],[49,16,28,14],[49,17,28,15],[49,23,28,21],[50,8,29,6],[50,12,29,10],[50,13,29,11,"isAuthenticated"],[50,28,29,26],[50,32,29,30],[50,33,29,31,"inAuthGroup"],[50,44,29,42],[50,46,29,44],[51,10,30,8,"console"],[51,17,30,15],[51,18,30,16,"log"],[51,21,30,19],[51,22,30,20],[51,75,30,73],[51,76,30,74],[52,10,31,8,"router"],[52,16,31,14],[52,17,31,15,"replace"],[52,24,31,22],[52,25,31,23],[52,38,31,36],[52,39,31,37],[53,8,32,6],[53,9,32,7],[53,15,32,13],[53,19,32,17,"isAuthenticated"],[53,34,32,32],[53,38,32,36,"inAuthGroup"],[53,49,32,47],[53,51,32,49],[54,10,33,8,"console"],[54,17,33,15],[54,18,33,16,"log"],[54,21,33,19],[54,22,33,20],[54,83,33,81],[54,84,33,82],[55,10,34,8,"router"],[55,16,34,14],[55,17,34,15,"replace"],[55,24,34,22],[55,25,34,23],[55,32,34,30],[55,33,34,31],[56,8,35,6],[56,9,35,7],[56,15,35,13],[57,10,36,8,"console"],[57,17,36,15],[57,18,36,16,"log"],[57,21,36,19],[57,22,36,20],[57,79,36,77],[57,80,36,78],[58,8,37,6],[59,6,38,4],[59,7,38,5],[59,9,38,7],[59,12,38,10],[59,13,38,11],[60,4,39,2],[60,5,39,3],[60,7,39,5],[60,8,39,6,"isAuthenticated"],[60,23,39,21],[60,25,39,23,"loading"],[60,32,39,30],[60,34,39,32,"segments"],[60,42,39,40],[60,44,39,42,"user"],[60,48,39,46],[60,49,39,47],[60,50,39,48],[61,4,41,2],[61,24,42,4],[61,28,42,4,"_reactJsxDevRuntime"],[61,47,42,4],[61,48,42,4,"jsxDEV"],[61,54,42,4],[61,56,42,5,"SafeAreaView"],[61,68,42,17],[61,69,42,17,"default"],[61,76,42,17],[62,6,42,18,"style"],[62,11,42,23],[62,13,42,25],[63,8,42,27,"flex"],[63,12,42,31],[63,14,42,33],[64,6,42,35],[64,7,42,37],[65,6,42,37,"children"],[65,14,42,37],[65,29,43,6],[65,33,43,6,"_reactJsxDevRuntime"],[65,52,43,6],[65,53,43,6,"jsxDEV"],[65,59,43,6],[65,61,43,7,"_expoRouter"],[65,72,43,11],[65,73,43,11,"Slot"],[65,77,43,11],[66,8,43,11,"fileName"],[66,16,43,11],[66,18,43,11,"_jsxFileName"],[66,30,43,11],[67,8,43,11,"lineNumber"],[67,18,43,11],[68,8,43,11,"columnNumber"],[68,20,43,11],[69,6,43,11],[69,13,43,13],[70,4,43,14],[71,6,43,14,"fileName"],[71,14,43,14],[71,16,43,14,"_jsxFileName"],[71,28,43,14],[72,6,43,14,"lineNumber"],[72,16,43,14],[73,6,43,14,"columnNumber"],[73,18,43,14],[74,4,43,14],[74,11,44,18],[74,12,44,19],[75,2,46,0],[76,2,48,15],[76,11,48,24,"RootLayout"],[76,21,48,34,"RootLayout"],[76,22,48,34],[76,24,48,37],[77,4,49,2],[77,24,50,4],[77,28,50,4,"_reactJsxDevRuntime"],[77,47,50,4],[77,48,50,4,"jsxDEV"],[77,54,50,4],[77,56,50,5,"_contextAuthContext"],[77,75,50,17],[77,76,50,17,"AuthProvider"],[77,88,50,17],[78,6,50,17,"children"],[78,14,50,17],[78,29,51,6],[78,33,51,6,"_reactJsxDevRuntime"],[78,52,51,6],[78,53,51,6,"jsxDEV"],[78,59,51,6],[78,61,51,7,"RootLayoutNav"],[78,74,51,20],[79,8,51,20,"fileName"],[79,16,51,20],[79,18,51,20,"_jsxFileName"],[79,30,51,20],[80,8,51,20,"lineNumber"],[80,18,51,20],[81,8,51,20,"columnNumber"],[81,20,51,20],[82,6,51,20],[82,13,51,22],[83,4,51,23],[84,6,51,23,"fileName"],[84,14,51,23],[84,16,51,23,"_jsxFileName"],[84,28,51,23],[85,6,51,23,"lineNumber"],[85,16,51,23],[86,6,51,23,"columnNumber"],[86,18,51,23],[87,4,51,23],[87,11,52,18],[87,12,52,19],[88,2,54,0],[89,0,54,1],[89,3]],"functionMap":{"names":["<global>","RootLayoutNav","useEffect$argument_0","setTimeout$argument_0","RootLayout"],"mappings":"AAA;ACK;YCK;eCiB;KDU;GDC;CDO;eIE"},"hasCjsExports":false},"type":"js/module"}]}