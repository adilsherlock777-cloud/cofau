{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":49,"index":128}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"../utils/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":129},"end":{"line":3,"column":31,"index":160}}],"key":"XoJ+jbKCrEi38eKczMqtlbk+TCk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/context/AuthContext.js\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _utilsApi = require(_dependencyMap[2], \"../utils/api\");\n  var api = _interopDefault(_utilsApi);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const [token, setToken] = (0, _react.useState)(null);\n    (0, _react.useEffect)(() => {\n      loadUser();\n    }, []);\n    const loadUser = async () => {\n      try {\n        const storedToken = await SecureStore.getItemAsync('userToken');\n        if (storedToken) {\n          setToken(storedToken);\n          // Get user info\n          const response = await api.default.get('/auth/me');\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.log('Error loading user:', error);\n        await SecureStore.deleteItemAsync('userToken');\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        // FastAPI OAuth2 expects form data\n        const formData = new URLSearchParams();\n        formData.append('username', email);\n        formData.append('password', password);\n        const response = await api.default.post('/auth/login', formData, {\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded'\n          }\n        });\n        const {\n          access_token\n        } = response.data;\n        await SecureStore.setItemAsync('userToken', access_token);\n        setToken(access_token);\n\n        // Get user info\n        const userResponse = await api.default.get('/auth/me');\n        setUser(userResponse.data);\n        return {\n          success: true\n        };\n      } catch (error) {\n        console.log('Login error:', error.response?.data || error.message);\n        return {\n          success: false,\n          error: error.response?.data?.detail || 'Login failed'\n        };\n      }\n    };\n    const signup = async (fullName, email, password) => {\n      try {\n        const response = await api.default.post('/auth/signup', {\n          full_name: fullName,\n          email: email,\n          password: password\n        });\n        const {\n          access_token\n        } = response.data;\n        await SecureStore.setItemAsync('userToken', access_token);\n        setToken(access_token);\n\n        // Get user info\n        const userResponse = await api.default.get('/auth/me');\n        setUser(userResponse.data);\n        return {\n          success: true\n        };\n      } catch (error) {\n        console.log('Signup error:', error.response?.data || error.message);\n        return {\n          success: false,\n          error: error.response?.data?.detail || 'Signup failed'\n        };\n      }\n    };\n    const logout = async () => {\n      await SecureStore.deleteItemAsync('userToken');\n      setToken(null);\n      setUser(null);\n    };\n    const refreshUser = async () => {\n      try {\n        const response = await api.default.get('/auth/me');\n        setUser(response.data);\n      } catch (error) {\n        console.log('Error refreshing user:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        signup,\n        logout,\n        refreshUser,\n        isAuthenticated: !!token\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => (0, _react.useContext)(AuthContext);\n});","lineCount":162,"map":[[28,2,7,0,"Object"],[28,8,7,0],[28,9,7,0,"defineProperty"],[28,23,7,0],[28,24,7,0,"exports"],[28,31,7,0],[29,4,7,0,"enumerable"],[29,14,7,0],[30,4,7,0,"get"],[30,7,7,0],[30,18,7,0,"get"],[30,19,7,0],[31,6,7,0],[31,13,7,0,"AuthProvider"],[31,25,7,0],[32,4,7,0],[33,2,7,0],[34,2,123,0,"Object"],[34,8,123,0],[34,9,123,0,"defineProperty"],[34,23,123,0],[34,24,123,0,"exports"],[34,31,123,0],[35,4,123,0,"enumerable"],[35,14,123,0],[36,4,123,0,"get"],[36,7,123,0],[36,18,123,0,"get"],[36,19,123,0],[37,6,123,0],[37,13,123,0,"useAuth"],[37,20,123,0],[38,4,123,0],[39,2,123,0],[40,2,1,0],[40,6,1,0,"_react"],[40,12,1,0],[40,15,1,0,"require"],[40,22,1,0],[40,23,1,0,"_dependencyMap"],[40,37,1,0],[41,2,2,0],[41,6,2,0,"_expoSecureStore"],[41,22,2,0],[41,25,2,0,"require"],[41,32,2,0],[41,33,2,0,"_dependencyMap"],[41,47,2,0],[42,2,2,0],[42,6,2,0,"SecureStore"],[42,17,2,0],[42,20,2,0,"_interopNamespace"],[42,37,2,0],[42,38,2,0,"_expoSecureStore"],[42,54,2,0],[43,2,3,0],[43,6,3,0,"_utilsApi"],[43,15,3,0],[43,18,3,0,"require"],[43,25,3,0],[43,26,3,0,"_dependencyMap"],[43,40,3,0],[44,2,3,0],[44,6,3,0,"api"],[44,9,3,0],[44,12,3,0,"_interopDefault"],[44,27,3,0],[44,28,3,0,"_utilsApi"],[44,37,3,0],[45,2,3,31],[45,6,3,31,"_reactJsxDevRuntime"],[45,25,3,31],[45,28,3,31,"require"],[45,35,3,31],[45,36,3,31,"_dependencyMap"],[45,50,3,31],[46,2,5,0],[46,8,5,6,"AuthContext"],[46,19,5,17],[46,35,5,20],[46,39,5,20,"createContext"],[46,45,5,33],[46,46,5,33,"createContext"],[46,59,5,33],[46,61,5,34],[46,62,5,35],[46,63,5,36],[46,64,5,37],[47,2,7,7],[47,8,7,13,"AuthProvider"],[47,20,7,25],[47,23,7,28,"AuthProvider"],[47,24,7,29],[48,4,7,31,"children"],[49,2,7,40],[49,3,7,41],[49,8,7,46],[50,4,8,2],[50,10,8,8],[50,11,8,9,"user"],[50,15,8,13],[50,17,8,15,"setUser"],[50,24,8,22],[50,25,8,23],[50,28,8,26],[50,32,8,26,"useState"],[50,38,8,34],[50,39,8,34,"useState"],[50,47,8,34],[50,49,8,35],[50,53,8,39],[50,54,8,40],[51,4,9,2],[51,10,9,8],[51,11,9,9,"loading"],[51,18,9,16],[51,20,9,18,"setLoading"],[51,30,9,28],[51,31,9,29],[51,34,9,32],[51,38,9,32,"useState"],[51,44,9,40],[51,45,9,40,"useState"],[51,53,9,40],[51,55,9,41],[51,59,9,45],[51,60,9,46],[52,4,10,2],[52,10,10,8],[52,11,10,9,"token"],[52,16,10,14],[52,18,10,16,"setToken"],[52,26,10,24],[52,27,10,25],[52,30,10,28],[52,34,10,28,"useState"],[52,40,10,36],[52,41,10,36,"useState"],[52,49,10,36],[52,51,10,37],[52,55,10,41],[52,56,10,42],[53,4,12,2],[53,8,12,2,"useEffect"],[53,14,12,11],[53,15,12,11,"useEffect"],[53,24,12,11],[53,26,12,12],[53,32,12,18],[54,6,13,4,"loadUser"],[54,14,13,12],[54,15,13,13],[54,16,13,14],[55,4,14,2],[55,5,14,3],[55,7,14,5],[55,9,14,7],[55,10,14,8],[56,4,16,2],[56,10,16,8,"loadUser"],[56,18,16,16],[56,21,16,19],[56,27,16,19,"loadUser"],[56,28,16,19],[56,33,16,31],[57,6,17,4],[57,10,17,8],[58,8,18,6],[58,14,18,12,"storedToken"],[58,25,18,23],[58,28,18,26],[58,34,18,32,"SecureStore"],[58,45,18,43],[58,46,18,44,"getItemAsync"],[58,58,18,56],[58,59,18,57],[58,70,18,68],[58,71,18,69],[59,8,19,6],[59,12,19,10,"storedToken"],[59,23,19,21],[59,25,19,23],[60,10,20,8,"setToken"],[60,18,20,16],[60,19,20,17,"storedToken"],[60,30,20,28],[60,31,20,29],[61,10,21,8],[62,10,22,8],[62,16,22,14,"response"],[62,24,22,22],[62,27,22,25],[62,33,22,31,"api"],[62,36,22,34],[62,37,22,34,"default"],[62,44,22,34],[62,45,22,35,"get"],[62,48,22,38],[62,49,22,39],[62,59,22,49],[62,60,22,50],[63,10,23,8,"setUser"],[63,17,23,15],[63,18,23,16,"response"],[63,26,23,24],[63,27,23,25,"data"],[63,31,23,29],[63,32,23,30],[64,8,24,6],[65,6,25,4],[65,7,25,5],[65,8,25,6],[65,15,25,13,"error"],[65,20,25,18],[65,22,25,20],[66,8,26,6,"console"],[66,15,26,13],[66,16,26,14,"log"],[66,19,26,17],[66,20,26,18],[66,41,26,39],[66,43,26,41,"error"],[66,48,26,46],[66,49,26,47],[67,8,27,6],[67,14,27,12,"SecureStore"],[67,25,27,23],[67,26,27,24,"deleteItemAsync"],[67,41,27,39],[67,42,27,40],[67,53,27,51],[67,54,27,52],[68,6,28,4],[68,7,28,5],[68,16,28,14],[69,8,29,6,"setLoading"],[69,18,29,16],[69,19,29,17],[69,24,29,22],[69,25,29,23],[70,6,30,4],[71,4,31,2],[71,5,31,3],[72,4,33,2],[72,10,33,8,"login"],[72,15,33,13],[72,18,33,16],[72,24,33,16,"login"],[72,25,33,23,"email"],[72,30,33,28],[72,32,33,30,"password"],[72,40,33,38],[72,45,33,43],[73,6,34,4],[73,10,34,8],[74,8,35,6],[75,8,36,6],[75,14,36,12,"formData"],[75,22,36,20],[75,25,36,23],[75,29,36,27,"URLSearchParams"],[75,44,36,42],[75,45,36,43],[75,46,36,44],[76,8,37,6,"formData"],[76,16,37,14],[76,17,37,15,"append"],[76,23,37,21],[76,24,37,22],[76,34,37,32],[76,36,37,34,"email"],[76,41,37,39],[76,42,37,40],[77,8,38,6,"formData"],[77,16,38,14],[77,17,38,15,"append"],[77,23,38,21],[77,24,38,22],[77,34,38,32],[77,36,38,34,"password"],[77,44,38,42],[77,45,38,43],[78,8,40,6],[78,14,40,12,"response"],[78,22,40,20],[78,25,40,23],[78,31,40,29,"api"],[78,34,40,32],[78,35,40,32,"default"],[78,42,40,32],[78,43,40,33,"post"],[78,47,40,37],[78,48,40,38],[78,61,40,51],[78,63,40,53,"formData"],[78,71,40,61],[78,73,40,63],[79,10,41,8,"headers"],[79,17,41,15],[79,19,41,17],[80,12,42,10],[80,26,42,24],[80,28,42,26],[81,10,43,8],[82,8,44,6],[82,9,44,7],[82,10,44,8],[83,8,46,6],[83,14,46,12],[84,10,46,14,"access_token"],[85,8,46,27],[85,9,46,28],[85,12,46,31,"response"],[85,20,46,39],[85,21,46,40,"data"],[85,25,46,44],[86,8,47,6],[86,14,47,12,"SecureStore"],[86,25,47,23],[86,26,47,24,"setItemAsync"],[86,38,47,36],[86,39,47,37],[86,50,47,48],[86,52,47,50,"access_token"],[86,64,47,62],[86,65,47,63],[87,8,48,6,"setToken"],[87,16,48,14],[87,17,48,15,"access_token"],[87,29,48,27],[87,30,48,28],[89,8,50,6],[90,8,51,6],[90,14,51,12,"userResponse"],[90,26,51,24],[90,29,51,27],[90,35,51,33,"api"],[90,38,51,36],[90,39,51,36,"default"],[90,46,51,36],[90,47,51,37,"get"],[90,50,51,40],[90,51,51,41],[90,61,51,51],[90,62,51,52],[91,8,52,6,"setUser"],[91,15,52,13],[91,16,52,14,"userResponse"],[91,28,52,26],[91,29,52,27,"data"],[91,33,52,31],[91,34,52,32],[92,8,54,6],[92,15,54,13],[93,10,54,15,"success"],[93,17,54,22],[93,19,54,24],[94,8,54,29],[94,9,54,30],[95,6,55,4],[95,7,55,5],[95,8,55,6],[95,15,55,13,"error"],[95,20,55,18],[95,22,55,20],[96,8,56,6,"console"],[96,15,56,13],[96,16,56,14,"log"],[96,19,56,17],[96,20,56,18],[96,34,56,32],[96,36,56,34,"error"],[96,41,56,39],[96,42,56,40,"response"],[96,50,56,48],[96,52,56,50,"data"],[96,56,56,54],[96,60,56,58,"error"],[96,65,56,63],[96,66,56,64,"message"],[96,73,56,71],[96,74,56,72],[97,8,57,6],[97,15,57,13],[98,10,58,8,"success"],[98,17,58,15],[98,19,58,17],[98,24,58,22],[99,10,59,8,"error"],[99,15,59,13],[99,17,59,15,"error"],[99,22,59,20],[99,23,59,21,"response"],[99,31,59,29],[99,33,59,31,"data"],[99,37,59,35],[99,39,59,37,"detail"],[99,45,59,43],[99,49,59,47],[100,8,60,6],[100,9,60,7],[101,6,61,4],[102,4,62,2],[102,5,62,3],[103,4,64,2],[103,10,64,8,"signup"],[103,16,64,14],[103,19,64,17],[103,25,64,17,"signup"],[103,26,64,24,"fullName"],[103,34,64,32],[103,36,64,34,"email"],[103,41,64,39],[103,43,64,41,"password"],[103,51,64,49],[103,56,64,54],[104,6,65,4],[104,10,65,8],[105,8,66,6],[105,14,66,12,"response"],[105,22,66,20],[105,25,66,23],[105,31,66,29,"api"],[105,34,66,32],[105,35,66,32,"default"],[105,42,66,32],[105,43,66,33,"post"],[105,47,66,37],[105,48,66,38],[105,62,66,52],[105,64,66,54],[106,10,67,8,"full_name"],[106,19,67,17],[106,21,67,19,"fullName"],[106,29,67,27],[107,10,68,8,"email"],[107,15,68,13],[107,17,68,15,"email"],[107,22,68,20],[108,10,69,8,"password"],[108,18,69,16],[108,20,69,18,"password"],[109,8,70,6],[109,9,70,7],[109,10,70,8],[110,8,72,6],[110,14,72,12],[111,10,72,14,"access_token"],[112,8,72,27],[112,9,72,28],[112,12,72,31,"response"],[112,20,72,39],[112,21,72,40,"data"],[112,25,72,44],[113,8,73,6],[113,14,73,12,"SecureStore"],[113,25,73,23],[113,26,73,24,"setItemAsync"],[113,38,73,36],[113,39,73,37],[113,50,73,48],[113,52,73,50,"access_token"],[113,64,73,62],[113,65,73,63],[114,8,74,6,"setToken"],[114,16,74,14],[114,17,74,15,"access_token"],[114,29,74,27],[114,30,74,28],[116,8,76,6],[117,8,77,6],[117,14,77,12,"userResponse"],[117,26,77,24],[117,29,77,27],[117,35,77,33,"api"],[117,38,77,36],[117,39,77,36,"default"],[117,46,77,36],[117,47,77,37,"get"],[117,50,77,40],[117,51,77,41],[117,61,77,51],[117,62,77,52],[118,8,78,6,"setUser"],[118,15,78,13],[118,16,78,14,"userResponse"],[118,28,78,26],[118,29,78,27,"data"],[118,33,78,31],[118,34,78,32],[119,8,80,6],[119,15,80,13],[120,10,80,15,"success"],[120,17,80,22],[120,19,80,24],[121,8,80,29],[121,9,80,30],[122,6,81,4],[122,7,81,5],[122,8,81,6],[122,15,81,13,"error"],[122,20,81,18],[122,22,81,20],[123,8,82,6,"console"],[123,15,82,13],[123,16,82,14,"log"],[123,19,82,17],[123,20,82,18],[123,35,82,33],[123,37,82,35,"error"],[123,42,82,40],[123,43,82,41,"response"],[123,51,82,49],[123,53,82,51,"data"],[123,57,82,55],[123,61,82,59,"error"],[123,66,82,64],[123,67,82,65,"message"],[123,74,82,72],[123,75,82,73],[124,8,83,6],[124,15,83,13],[125,10,84,8,"success"],[125,17,84,15],[125,19,84,17],[125,24,84,22],[126,10,85,8,"error"],[126,15,85,13],[126,17,85,15,"error"],[126,22,85,20],[126,23,85,21,"response"],[126,31,85,29],[126,33,85,31,"data"],[126,37,85,35],[126,39,85,37,"detail"],[126,45,85,43],[126,49,85,47],[127,8,86,6],[127,9,86,7],[128,6,87,4],[129,4,88,2],[129,5,88,3],[130,4,90,2],[130,10,90,8,"logout"],[130,16,90,14],[130,19,90,17],[130,25,90,17,"logout"],[130,26,90,17],[130,31,90,29],[131,6,91,4],[131,12,91,10,"SecureStore"],[131,23,91,21],[131,24,91,22,"deleteItemAsync"],[131,39,91,37],[131,40,91,38],[131,51,91,49],[131,52,91,50],[132,6,92,4,"setToken"],[132,14,92,12],[132,15,92,13],[132,19,92,17],[132,20,92,18],[133,6,93,4,"setUser"],[133,13,93,11],[133,14,93,12],[133,18,93,16],[133,19,93,17],[134,4,94,2],[134,5,94,3],[135,4,96,2],[135,10,96,8,"refreshUser"],[135,21,96,19],[135,24,96,22],[135,30,96,22,"refreshUser"],[135,31,96,22],[135,36,96,34],[136,6,97,4],[136,10,97,8],[137,8,98,6],[137,14,98,12,"response"],[137,22,98,20],[137,25,98,23],[137,31,98,29,"api"],[137,34,98,32],[137,35,98,32,"default"],[137,42,98,32],[137,43,98,33,"get"],[137,46,98,36],[137,47,98,37],[137,57,98,47],[137,58,98,48],[138,8,99,6,"setUser"],[138,15,99,13],[138,16,99,14,"response"],[138,24,99,22],[138,25,99,23,"data"],[138,29,99,27],[138,30,99,28],[139,6,100,4],[139,7,100,5],[139,8,100,6],[139,15,100,13,"error"],[139,20,100,18],[139,22,100,20],[140,8,101,6,"console"],[140,15,101,13],[140,16,101,14,"log"],[140,19,101,17],[140,20,101,18],[140,44,101,42],[140,46,101,44,"error"],[140,51,101,49],[140,52,101,50],[141,6,102,4],[142,4,103,2],[142,5,103,3],[143,4,105,2],[143,24,106,4],[143,28,106,4,"_reactJsxDevRuntime"],[143,47,106,4],[143,48,106,4,"jsxDEV"],[143,54,106,4],[143,56,106,5,"AuthContext"],[143,67,106,16],[143,68,106,17,"Provider"],[143,76,106,25],[144,6,107,6,"value"],[144,11,107,11],[144,13,107,13],[145,8,108,8,"user"],[145,12,108,12],[146,8,109,8,"token"],[146,13,109,13],[147,8,110,8,"loading"],[147,15,110,15],[148,8,111,8,"login"],[148,13,111,13],[149,8,112,8,"signup"],[149,14,112,14],[150,8,113,8,"logout"],[150,14,113,14],[151,8,114,8,"refreshUser"],[151,19,114,19],[152,8,115,8,"isAuthenticated"],[152,23,115,23],[152,25,115,25],[152,26,115,26],[152,27,115,27,"token"],[153,6,116,6],[153,7,116,8],[154,6,116,8,"children"],[154,14,116,8],[154,16,118,7,"children"],[155,4,118,15],[156,6,118,15,"fileName"],[156,14,118,15],[156,16,118,15,"_jsxFileName"],[156,28,118,15],[157,6,118,15,"lineNumber"],[157,16,118,15],[158,6,118,15,"columnNumber"],[158,18,118,15],[159,4,118,15],[159,11,119,26],[159,12,119,27],[160,2,121,0],[160,3,121,1],[161,2,123,7],[161,8,123,13,"useAuth"],[161,15,123,20],[161,18,123,23,"useAuth"],[161,19,123,23],[161,24,123,29],[161,28,123,29,"useContext"],[161,34,123,39],[161,35,123,39,"useContext"],[161,45,123,39],[161,47,123,40,"AuthContext"],[161,58,123,51],[161,59,123,52],[162,0,123,53],[162,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadUser","login","signup","logout","refreshUser","useAuth"],"mappings":"AAA;4BCM;YCK;GDE;mBEE;GFe;gBGE;GH6B;iBIE;GJwB;iBKE;GLI;sBME;GNO;CDkB;uBQE,6BR"},"hasCjsExports":false},"type":"js/module"}]}