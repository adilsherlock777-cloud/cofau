{"dependencies":[{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":59,"index":59}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":60},"end":{"line":2,"column":44,"index":104}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"../context/AuthContext","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":105},"end":{"line":3,"column":63,"index":168}}],"key":"wtq8Fkr/TgrbpLuMtxn0+1CYCwc=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":169},"end":{"line":4,"column":34,"index":203}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/_layout.tsx\",\n    _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return RootLayout;\n    }\n  });\n  var _expoRouter = require(_dependencyMap[0], \"expo-router\");\n  var _reactNative = require(_dependencyMap[1], \"react-native\");\n  var _contextAuthContext = require(_dependencyMap[2], \"../context/AuthContext\");\n  var _react = require(_dependencyMap[3], \"react\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  function RootLayoutNav() {\n    _s();\n    var _useAuth = (0, _contextAuthContext.useAuth)(),\n      isAuthenticated = _useAuth.isAuthenticated,\n      loading = _useAuth.loading,\n      user = _useAuth.user,\n      token = _useAuth.token;\n    var segments = (0, _expoRouter.useSegments)();\n    var router = (0, _expoRouter.useRouter)();\n    (0, _react.useEffect)(() => {\n      console.log('üîÑ _layout: Auth state changed');\n      console.log('   - loading:', loading);\n      console.log('   - isAuthenticated:', isAuthenticated);\n      console.log('   - token:', token ? 'Present' : 'None');\n      console.log('   - user:', user?.email || 'None');\n      console.log('   - segments:', segments);\n      if (loading) {\n        console.log('‚è≥ _layout: Still loading, skipping navigation');\n        return;\n      }\n      var inAuthGroup = segments[0] === 'auth';\n      console.log('   - inAuthGroup:', inAuthGroup);\n\n      // Use setTimeout to ensure navigation happens after state updates complete\n      setTimeout(() => {\n        if (!isAuthenticated && !inAuthGroup) {\n          console.log('üîê _layout: Not authenticated, redirecting to login');\n          router.replace('/auth/login');\n        } else if (isAuthenticated && inAuthGroup) {\n          console.log('‚úÖ _layout: Authenticated in auth group, redirecting to feed');\n          router.replace('/feed');\n        } else {\n          console.log('‚úÖ _layout: No redirect needed, current route is correct');\n        }\n      }, 100);\n    }, [isAuthenticated, loading, segments, user]);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.SafeAreaView, {\n      style: {\n        flex: 1\n      },\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Slot, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }, this);\n  }\n  _s(RootLayoutNav, \"hwZz/PyBZFHJO8Jxic5BhA1y/70=\", false, function () {\n    return [_contextAuthContext.useAuth, _expoRouter.useSegments, _expoRouter.useRouter];\n  });\n  _c = RootLayoutNav;\n  function RootLayout() {\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_contextAuthContext.AuthProvider, {\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(RootLayoutNav, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }, this);\n  }\n  _c2 = RootLayout;\n  var _c, _c2;\n  $RefreshReg$(_c, \"RootLayoutNav\");\n  $RefreshReg$(_c2, \"RootLayout\");\n});","lineCount":92,"map":[[9,2,48,15,"Object"],[9,8,48,15],[9,9,48,15,"defineProperty"],[9,23,48,15],[9,24,48,15,"exports"],[9,31,48,15],[10,4,48,15,"enumerable"],[10,14,48,15],[11,4,48,15,"get"],[11,7,48,15],[11,18,48,15,"get"],[11,19,48,15],[12,6,48,15],[12,13,48,15,"RootLayout"],[12,23,48,15],[13,4,48,15],[14,2,48,15],[15,2,1,0],[15,6,1,0,"_expoRouter"],[15,17,1,0],[15,20,1,0,"require"],[15,27,1,0],[15,28,1,0,"_dependencyMap"],[15,42,1,0],[16,2,2,0],[16,6,2,0,"_reactNative"],[16,18,2,0],[16,21,2,0,"require"],[16,28,2,0],[16,29,2,0,"_dependencyMap"],[16,43,2,0],[17,2,3,0],[17,6,3,0,"_contextAuthContext"],[17,25,3,0],[17,28,3,0,"require"],[17,35,3,0],[17,36,3,0,"_dependencyMap"],[17,50,3,0],[18,2,4,0],[18,6,4,0,"_react"],[18,12,4,0],[18,15,4,0,"require"],[18,22,4,0],[18,23,4,0,"_dependencyMap"],[18,37,4,0],[19,2,4,34],[19,6,4,34,"_reactJsxDevRuntime"],[19,25,4,34],[19,28,4,34,"require"],[19,35,4,34],[19,36,4,34,"_dependencyMap"],[19,50,4,34],[20,2,6,0],[20,11,6,9,"RootLayoutNav"],[20,24,6,22,"RootLayoutNav"],[20,25,6,22],[20,27,6,25],[21,4,6,25,"_s"],[21,6,6,25],[22,4,7,2],[22,8,7,2,"_useAuth"],[22,16,7,2],[22,19,7,52],[22,23,7,52,"useAuth"],[22,42,7,59],[22,43,7,59,"useAuth"],[22,50,7,59],[22,52,7,60],[22,53,7,61],[23,6,7,10,"isAuthenticated"],[23,21,7,25],[23,24,7,25,"_useAuth"],[23,32,7,25],[23,33,7,10,"isAuthenticated"],[23,48,7,25],[24,6,7,27,"loading"],[24,13,7,34],[24,16,7,34,"_useAuth"],[24,24,7,34],[24,25,7,27,"loading"],[24,32,7,34],[25,6,7,36,"user"],[25,10,7,40],[25,13,7,40,"_useAuth"],[25,21,7,40],[25,22,7,36,"user"],[25,26,7,40],[26,6,7,42,"token"],[26,11,7,47],[26,14,7,47,"_useAuth"],[26,22,7,47],[26,23,7,42,"token"],[26,28,7,47],[27,4,8,2],[27,8,8,8,"segments"],[27,16,8,16],[27,19,8,19],[27,23,8,19,"useSegments"],[27,34,8,30],[27,35,8,30,"useSegments"],[27,46,8,30],[27,48,8,31],[27,49,8,32],[28,4,9,2],[28,8,9,8,"router"],[28,14,9,14],[28,17,9,17],[28,21,9,17,"useRouter"],[28,32,9,26],[28,33,9,26,"useRouter"],[28,42,9,26],[28,44,9,27],[28,45,9,28],[29,4,11,2],[29,8,11,2,"useEffect"],[29,14,11,11],[29,15,11,11,"useEffect"],[29,24,11,11],[29,26,11,12],[29,32,11,18],[30,6,12,4,"console"],[30,13,12,11],[30,14,12,12,"log"],[30,17,12,15],[30,18,12,16],[30,50,12,48],[30,51,12,49],[31,6,13,4,"console"],[31,13,13,11],[31,14,13,12,"log"],[31,17,13,15],[31,18,13,16],[31,33,13,31],[31,35,13,33,"loading"],[31,42,13,40],[31,43,13,41],[32,6,14,4,"console"],[32,13,14,11],[32,14,14,12,"log"],[32,17,14,15],[32,18,14,16],[32,41,14,39],[32,43,14,41,"isAuthenticated"],[32,58,14,56],[32,59,14,57],[33,6,15,4,"console"],[33,13,15,11],[33,14,15,12,"log"],[33,17,15,15],[33,18,15,16],[33,31,15,29],[33,33,15,31,"token"],[33,38,15,36],[33,41,15,39],[33,50,15,48],[33,53,15,51],[33,59,15,57],[33,60,15,58],[34,6,16,4,"console"],[34,13,16,11],[34,14,16,12,"log"],[34,17,16,15],[34,18,16,16],[34,30,16,28],[34,32,16,30,"user"],[34,36,16,34],[34,38,16,36,"email"],[34,43,16,41],[34,47,16,45],[34,53,16,51],[34,54,16,52],[35,6,17,4,"console"],[35,13,17,11],[35,14,17,12,"log"],[35,17,17,15],[35,18,17,16],[35,34,17,32],[35,36,17,34,"segments"],[35,44,17,42],[35,45,17,43],[36,6,19,4],[36,10,19,8,"loading"],[36,17,19,15],[36,19,19,17],[37,8,20,6,"console"],[37,15,20,13],[37,16,20,14,"log"],[37,19,20,17],[37,20,20,18],[37,67,20,65],[37,68,20,66],[38,8,21,6],[39,6,22,4],[40,6,24,4],[40,10,24,10,"inAuthGroup"],[40,21,24,21],[40,24,24,24,"segments"],[40,32,24,32],[40,33,24,33],[40,34,24,34],[40,35,24,35],[40,40,24,40],[40,46,24,46],[41,6,25,4,"console"],[41,13,25,11],[41,14,25,12,"log"],[41,17,25,15],[41,18,25,16],[41,37,25,35],[41,39,25,37,"inAuthGroup"],[41,50,25,48],[41,51,25,49],[43,6,27,4],[44,6,28,4,"setTimeout"],[44,16,28,14],[44,17,28,15],[44,23,28,21],[45,8,29,6],[45,12,29,10],[45,13,29,11,"isAuthenticated"],[45,28,29,26],[45,32,29,30],[45,33,29,31,"inAuthGroup"],[45,44,29,42],[45,46,29,44],[46,10,30,8,"console"],[46,17,30,15],[46,18,30,16,"log"],[46,21,30,19],[46,22,30,20],[46,75,30,73],[46,76,30,74],[47,10,31,8,"router"],[47,16,31,14],[47,17,31,15,"replace"],[47,24,31,22],[47,25,31,23],[47,38,31,36],[47,39,31,37],[48,8,32,6],[48,9,32,7],[48,15,32,13],[48,19,32,17,"isAuthenticated"],[48,34,32,32],[48,38,32,36,"inAuthGroup"],[48,49,32,47],[48,51,32,49],[49,10,33,8,"console"],[49,17,33,15],[49,18,33,16,"log"],[49,21,33,19],[49,22,33,20],[49,83,33,81],[49,84,33,82],[50,10,34,8,"router"],[50,16,34,14],[50,17,34,15,"replace"],[50,24,34,22],[50,25,34,23],[50,32,34,30],[50,33,34,31],[51,8,35,6],[51,9,35,7],[51,15,35,13],[52,10,36,8,"console"],[52,17,36,15],[52,18,36,16,"log"],[52,21,36,19],[52,22,36,20],[52,79,36,77],[52,80,36,78],[53,8,37,6],[54,6,38,4],[54,7,38,5],[54,9,38,7],[54,12,38,10],[54,13,38,11],[55,4,39,2],[55,5,39,3],[55,7,39,5],[55,8,39,6,"isAuthenticated"],[55,23,39,21],[55,25,39,23,"loading"],[55,32,39,30],[55,34,39,32,"segments"],[55,42,39,40],[55,44,39,42,"user"],[55,48,39,46],[55,49,39,47],[55,50,39,48],[56,4,41,2],[56,24,42,4],[56,28,42,4,"_reactJsxDevRuntime"],[56,47,42,4],[56,48,42,4,"jsxDEV"],[56,54,42,4],[56,56,42,5,"_reactNative"],[56,68,42,17],[56,69,42,17,"SafeAreaView"],[56,81,42,17],[57,6,42,18,"style"],[57,11,42,23],[57,13,42,25],[58,8,42,27,"flex"],[58,12,42,31],[58,14,42,33],[59,6,42,35],[59,7,42,37],[60,6,42,37,"children"],[60,14,42,37],[60,29,43,6],[60,33,43,6,"_reactJsxDevRuntime"],[60,52,43,6],[60,53,43,6,"jsxDEV"],[60,59,43,6],[60,61,43,7,"_expoRouter"],[60,72,43,11],[60,73,43,11,"Slot"],[60,77,43,11],[61,8,43,11,"fileName"],[61,16,43,11],[61,18,43,11,"_jsxFileName"],[61,30,43,11],[62,8,43,11,"lineNumber"],[62,18,43,11],[63,8,43,11,"columnNumber"],[63,20,43,11],[64,6,43,11],[64,13,43,13],[65,4,43,14],[66,6,43,14,"fileName"],[66,14,43,14],[66,16,43,14,"_jsxFileName"],[66,28,43,14],[67,6,43,14,"lineNumber"],[67,16,43,14],[68,6,43,14,"columnNumber"],[68,18,43,14],[69,4,43,14],[69,11,44,18],[69,12,44,19],[70,2,46,0],[71,2,46,1,"_s"],[71,4,46,1],[71,5,6,9,"RootLayoutNav"],[71,18,6,22],[72,4,6,22],[72,12,7,52,"useAuth"],[72,31,7,59],[72,32,7,59,"useAuth"],[72,39,7,59],[72,41,8,19,"useSegments"],[72,52,8,30],[72,53,8,30,"useSegments"],[72,64,8,30],[72,66,9,17,"useRouter"],[72,77,9,26],[72,78,9,26,"useRouter"],[72,87,9,26],[73,2,9,26],[74,2,9,26,"_c"],[74,4,9,26],[74,7,6,9,"RootLayoutNav"],[74,20,6,22],[75,2,48,15],[75,11,48,24,"RootLayout"],[75,21,48,34,"RootLayout"],[75,22,48,34],[75,24,48,37],[76,4,49,2],[76,24,50,4],[76,28,50,4,"_reactJsxDevRuntime"],[76,47,50,4],[76,48,50,4,"jsxDEV"],[76,54,50,4],[76,56,50,5,"_contextAuthContext"],[76,75,50,17],[76,76,50,17,"AuthProvider"],[76,88,50,17],[77,6,50,17,"children"],[77,14,50,17],[77,29,51,6],[77,33,51,6,"_reactJsxDevRuntime"],[77,52,51,6],[77,53,51,6,"jsxDEV"],[77,59,51,6],[77,61,51,7,"RootLayoutNav"],[77,74,51,20],[78,8,51,20,"fileName"],[78,16,51,20],[78,18,51,20,"_jsxFileName"],[78,30,51,20],[79,8,51,20,"lineNumber"],[79,18,51,20],[80,8,51,20,"columnNumber"],[80,20,51,20],[81,6,51,20],[81,13,51,22],[82,4,51,23],[83,6,51,23,"fileName"],[83,14,51,23],[83,16,51,23,"_jsxFileName"],[83,28,51,23],[84,6,51,23,"lineNumber"],[84,16,51,23],[85,6,51,23,"columnNumber"],[85,18,51,23],[86,4,51,23],[86,11,52,18],[86,12,52,19],[87,2,54,0],[88,2,54,1,"_c2"],[88,5,54,1],[88,8,48,24,"RootLayout"],[88,18,48,34],[89,2,48,34],[89,6,48,34,"_c"],[89,8,48,34],[89,10,48,34,"_c2"],[89,13,48,34],[90,2,48,34,"$RefreshReg$"],[90,14,48,34],[90,15,48,34,"_c"],[90,17,48,34],[91,2,48,34,"$RefreshReg$"],[91,14,48,34],[91,15,48,34,"_c2"],[91,18,48,34],[92,0,48,34],[92,3]],"functionMap":{"names":["<global>","RootLayoutNav","useEffect$argument_0","setTimeout$argument_0","RootLayout"],"mappings":"AAA;ACK;YCK;eCiB;KDU;GDC;CDO;eIE"},"hasCjsExports":false},"type":"js/module"}]}